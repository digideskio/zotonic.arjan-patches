# HG changeset patch
# Parent 926a3a74f488913ea8ea43240fb2f3b1c6336b55
Mailinglist separate page for previewing, sending and checking the
mailing statistics.  Also allows scheduled sending of mailings when
page becomes visible.

diff --git a/modules/mod_admin/resources/resource_admin_edit.erl b/modules/mod_admin/resources/resource_admin_edit.erl
--- a/modules/mod_admin/resources/resource_admin_edit.erl
+++ b/modules/mod_admin/resources/resource_admin_edit.erl
@@ -23,7 +23,8 @@
     resource_exists/2,
     is_authorized/2,
     event/2,
-    filter_props/1
+    filter_props/1,
+	ensure_id/1
 ]).
 
 -include_lib("resource_html.hrl").
diff --git a/modules/mod_admin/translations/nl.po b/modules/mod_admin/translations/nl.po
--- a/modules/mod_admin/translations/nl.po
+++ b/modules/mod_admin/translations/nl.po
@@ -299,7 +299,9 @@
 msgid ""
 "Here you can edit the person's name.  Use the title of the base content for "
 "the display name of this person."
-msgstr "Hier kan je de namen van de persoon bewerken. Gebruik de titel van de basisgegevens voor de naam zoals die wordt weergegeven op pagina's."
+msgstr ""
+"Hier kan je de namen van de persoon bewerken. Gebruik de titel van de "
+"basisgegevens voor de naam zoals die wordt weergegeven op pagina's."
 
 #: modules/mod_admin/templates/admin.tpl:44
 msgid "Latest modified events"
@@ -370,7 +372,9 @@
 msgid ""
 "Media encompasses all uploaded images, movies and documents. Media can be "
 "attached to pages."
-msgstr "Mediabestanden omvatten alle geuploade afbeeldingen, filmpjes en documenten. Ze kunnen worden gekoppeld aan pagina's."
+msgstr ""
+"Mediabestanden omvatten alle geuploade afbeeldingen, filmpjes en documenten. "
+"Ze kunnen worden gekoppeld aan pagina's."
 
 #: modules/mod_admin/templates/_action_dialog_media_upload.tpl:29
 msgid "Media file"
@@ -497,7 +501,8 @@
 #: modules/mod_admin/templates/_admin_edit_content_category.tpl:47
 msgid ""
 "Predicates, groups and categories can't be changed into another category."
-msgstr "Predicaten, groepen en categorieën kunnen niet van categorie veranderen."
+msgstr ""
+"Predicaten, groepen en categorieën kunnen niet van categorie veranderen."
 
 #: modules/mod_admin/templates/admin_media.tpl:41
 msgid "Preview"
@@ -537,7 +542,9 @@
 msgid ""
 "Rebuild all search-indices by putting all pages and data from the database "
 "in the indexer queue. This can take a long time!"
-msgstr "Bouw de zoek-index opnieuw op door alle pagina's langs te gaan. Dit kan even duren!"
+msgstr ""
+"Bouw de zoek-index opnieuw op door alle pagina's langs te gaan. Dit kan even "
+"duren!"
 
 #: modules/mod_admin/templates/admin_status.tpl:22
 msgid "Rebuild search indices"
@@ -553,9 +560,6 @@
 msgstr "Verwijzingen"
 
 #: modules/mod_admin/templates/admin_referrers.tpl:3
-msgid "Referrers of"
-msgstr "Verwijzingen van"
-
 #: modules/mod_admin/templates/admin_referrers.tpl:9
 msgid "Referrers to"
 msgstr "Verwijzingen naar"
@@ -980,5 +984,8 @@
 msgid "visit site"
 msgstr "bezoek site"
 
+#~ msgid "Referrers of"
+#~ msgstr "Verwijzingen van"
+
 #~ msgid "Hello"
 #~ msgstr "Hallo"
diff --git a/modules/mod_admin/translations/template/en.pot b/modules/mod_admin/translations/template/en.pot
--- a/modules/mod_admin/translations/template/en.pot
+++ b/modules/mod_admin/translations/template/en.pot
@@ -613,12 +613,7 @@
 "Referrers"
 msgstr ""
 
-#: ./modules/mod_admin/templates/admin_referrers.tpl:3 
-msgid ""
-"Referrers of"
-msgstr ""
-
-#: ./modules/mod_admin/templates/admin_referrers.tpl:9 
+#: ./modules/mod_admin/templates/admin_referrers.tpl:3 ./modules/mod_admin/templates/admin_referrers.tpl:9 
 msgid ""
 "Referrers to"
 msgstr ""
diff --git a/modules/mod_admin_modules/translations/nl.po b/modules/mod_admin_modules/translations/nl.po
--- a/modules/mod_admin_modules/translations/nl.po
+++ b/modules/mod_admin_modules/translations/nl.po
@@ -17,7 +17,7 @@
 "Content-Transfer-Encoding: 8bit\n"
 
 #: modules/mod_admin_modules/templates/admin_modules.tpl:18
-#: modules/mod_admin_modules/templates/admin_modules.tpl:33
+#: modules/mod_admin_modules/templates/admin_modules.tpl:34
 msgid "Activate"
 msgstr "Activeer"
 
@@ -25,7 +25,7 @@
 msgid "Author"
 msgstr "Auteur"
 
-#: modules/mod_admin_modules/templates/admin_modules.tpl:29
+#: modules/mod_admin_modules/templates/admin_modules.tpl:30
 msgid "Deactivate"
 msgstr "Deactiveer"
 
diff --git a/modules/mod_admin_modules/translations/template/en.pot b/modules/mod_admin_modules/translations/template/en.pot
--- a/modules/mod_admin_modules/translations/template/en.pot
+++ b/modules/mod_admin_modules/translations/template/en.pot
@@ -18,7 +18,7 @@
 "Content-Type: text/plain; charset=utf-8\n"
 "Content-Transfer-Encoding: 8bit\n"
 
-#: ./modules/mod_admin_modules/templates/admin_modules.tpl:18 ./modules/mod_admin_modules/templates/admin_modules.tpl:33 
+#: ./modules/mod_admin_modules/templates/admin_modules.tpl:18 ./modules/mod_admin_modules/templates/admin_modules.tpl:34 
 msgid ""
 "Activate"
 msgstr ""
@@ -28,7 +28,7 @@
 "Author"
 msgstr ""
 
-#: ./modules/mod_admin_modules/templates/admin_modules.tpl:29 
+#: ./modules/mod_admin_modules/templates/admin_modules.tpl:30 
 msgid ""
 "Deactivate"
 msgstr ""
diff --git a/modules/mod_mailinglist/actions/action_mailinglist_dialog_mailing_page.erl b/modules/mod_mailinglist/actions/action_mailinglist_dialog_mailing_page.erl
--- a/modules/mod_mailinglist/actions/action_mailinglist_dialog_mailing_page.erl
+++ b/modules/mod_mailinglist/actions/action_mailinglist_dialog_mailing_page.erl
@@ -3,7 +3,7 @@
 %% @date 2009-11-27
 %% @doc Open a dialog for sending an e-mail to a mailing list.
 
-%% Copyright 2009 Marc Worrell
+%% Copyright 2009,2011 Marc Worrell, Arjan Scherpenisse
 %%
 %% Licensed under the Apache License, Version 2.0 (the "License");
 %% you may not use this file except in compliance with the License.
@@ -30,32 +30,34 @@
 
 render_action(TriggerId, TargetId, Args, Context) ->
     Id = z_convert:to_integer(proplists:get_value(id, Args)),
+    ListId = z_convert:to_integer(proplists:get_value(list_id, Args)),
     OnSuccess = proplists:get_all_values(on_success, Args),
-    Postback = {dialog_mailing_page, Id, OnSuccess},
+    Postback = {dialog_mailing_page, Id, ListId, OnSuccess},
 	{PostbackMsgJS, _PickledPostback} = z_render:make_postback(Postback, click, TriggerId, TargetId, ?MODULE, Context),
 	{PostbackMsgJS, Context}.
 
-event({postback, {dialog_mailing_page, Id, OnSuccess}, _TriggerId, _TargetId}, Context) ->
+event({postback, {dialog_mailing_page, Id, ListId, OnSuccess}, _TriggerId, _TargetId}, Context) ->
 	Vars = [
-		{id, Id},
-		{on_success, OnSuccess}
+            {id, Id},
+            {list_id, ListId},
+            {on_success, OnSuccess}
 	],
-	z_render:dialog("Give e-mail address of recipient.", "_dialog_mailing_page.tpl", Vars, Context);
+	z_render:dialog("Confirm sending to mailinglist.", "_dialog_mailing_page.tpl", Vars, Context);
 
+%% When the page is not yet visible and the user did not choose the
+%% "now" button, the mailing is queued.
 event({submit, {mailing_page, Args}, _TriggerId, _TargetId}, Context) ->
 	PageId = proplists:get_value(id, Args),
 	OnSuccess = proplists:get_all_values(on_success, Args),
-	ListId = z_convert:to_integer(z_context:get_q("mailinglist_id", Context)),
-	Name = m_rsc:p(ListId, name, Context),
-	Context1 = case Name == <<"mailinglist_test">> orelse z_acl:rsc_visible(PageId, z_acl:anondo(Context)) of
+	ListId = z_convert:to_integer(z_context:get_q("list_id", Context)),
+    When = z_context:get_q("mail_when", Context),
+	Context1 = case z_acl:rsc_visible(PageId, z_acl:anondo(Context)) orelse When =:= "now" of
 		true -> 
 			z_notifier:notify({mailinglist_mailing, ListId, PageId}, Context),
-			z_render:growl("The e-mails are being send...", Context);
+			z_render:growl("The e-mails are being sent...", Context);
 		false -> 
 			m_mailinglist:insert_scheduled(ListId, PageId, Context),
+            mod_signal:emit({update_mailinglist_scheduled, [{id, PageId}]}, Context),
 			z_render:growl("The mailing will be send when the page becomes visible.", Context)
 	end,
-	Context2 = mod_mailinglist:update_scheduled_list(PageId, Context1),
-	z_render:wire(OnSuccess, Context2).
-
-
+	z_render:wire(OnSuccess, Context1).
diff --git a/modules/mod_mailinglist/actions/action_mailinglist_mailing_page_test.erl b/modules/mod_mailinglist/actions/action_mailinglist_mailing_page_test.erl
--- a/modules/mod_mailinglist/actions/action_mailinglist_mailing_page_test.erl
+++ b/modules/mod_mailinglist/actions/action_mailinglist_mailing_page_test.erl
@@ -40,8 +40,11 @@
 		{ok, ListId} ->
 			case z_acl:rsc_visible(ListId, Context) of
 				true ->
+                    %% Reset the recepient stats for the test list
+                    m_mailinglist:reset_log_email(ListId, PageId, Context),
+                    %% And send.
 					z_notifier:notify({mailinglist_mailing, ListId, PageId}, Context),
-					Context1 = z_render:growl("Sending the page to the test mailing list.", Context),
+					Context1 = z_render:growl("Sending the page to the test mailing list...", Context),
 					z_render:wire(OnSuccess, Context1);
 				false ->
 					z_render:growl_error("You are not allowed to send mail to the test mailing list.", Context)
diff --git a/modules/mod_mailinglist/dispatch/dispatch_mailinglist b/modules/mod_mailinglist/dispatch/dispatch_mailinglist
--- a/modules/mod_mailinglist/dispatch/dispatch_mailinglist
+++ b/modules/mod_mailinglist/dispatch/dispatch_mailinglist
@@ -1,5 +1,9 @@
 [
 	{admin_mailinglist, ["admin", "mailinglists"], resource_admin_mailinglist, []},
+
+	{admin_mailing_preview,    ["admin", "mailing", "preview", id],       resource_admin_mailing_preview, []},
+	{admin_mailing_status,    ["admin", "mailing", id],       resource_admin_mailing_status, []},
+
 	{admin_mailinglist_recipients, ["admin", "mailinglists", "recipients", id ], resource_admin_mailinglist_recipients, []},
 	
 	{mailinglist_confirm, ["mailinglist", "confirm", confirm_key], resource_template, [{template, "mailinglist_confirm.tpl"}]},
@@ -7,6 +11,7 @@
 	
 	{mailinglist_export, ["mailinglist", "export", id], resource_mailinglist_export, []},
 
+
 	%% Normal page to show a resource.
 	{mailinglist,    ["mailinglist", id],       resource_page, [ {template, {cat, "mailinglist.tpl"}} ]},
 	{mailinglist,    ["mailinglist", id, slug], resource_page, [ {template, {cat, "mailinglist.tpl"}} ]}
diff --git a/modules/mod_mailinglist/mod_mailinglist.erl b/modules/mod_mailinglist/mod_mailinglist.erl
--- a/modules/mod_mailinglist/mod_mailinglist.erl
+++ b/modules/mod_mailinglist/mod_mailinglist.erl
@@ -34,7 +34,6 @@
 	observe_search_query/2,
 	observe_mailinglist_message/2,
 	event/2,
-	update_scheduled_list/2,
 	datamodel/1,
 	page_attachments/2
 ]).
@@ -106,7 +105,7 @@
 
 %% @doc Request confirmation of canceling this mailing.
 event({postback, {dialog_mailing_cancel_confirm, Args}, _TriggerId, _TargetId}, Context) ->
-	MailingId = proplists:get_value(mailinglist_id, Args),
+	MailingId = proplists:get_value(list_id, Args),
 	case z_acl:rsc_editable(MailingId, Context) of
 		true ->
 			z_render:dialog("Confirm mailing cancelation.", "_dialog_mailing_cancel_confirm.tpl", Args, Context);
@@ -114,16 +113,27 @@
 			z_render:growl_error("You are not allowed to cancel this mailing.", Context)
 	end;
 event({postback, {mailing_cancel, Args}, _TriggerId, _TargetId}, Context) ->
-	MailingId = proplists:get_value(mailinglist_id, Args),
+	MailingId = proplists:get_value(list_id, Args),
 	PageId = proplists:get_value(page_id, Args),
 	case z_acl:rsc_editable(MailingId, Context) of
 		true ->
 			m_mailinglist:delete_scheduled(MailingId, PageId, Context),
-			Context1 = update_scheduled_list(PageId, Context),
-			z_render:growl("The mailing has been canceled.", Context1);
+            mod_signal:emit({update_mailinglist_scheduled, [{id, PageId}]}, Context),
+			z_render:growl("The mailing has been canceled.", Context);
 		false ->
 			z_render:growl_error("You are not allowed to cancel this mailing.", Context)
 	end;
+event({postback, {mailinglist_reset, Args}, _TriggerId, _TargetId}, Context) ->
+	MailingId = proplists:get_value(list_id, Args),
+	PageId = proplists:get_value(page_id, Args),
+	case z_acl:rsc_editable(MailingId, Context) of
+		true ->
+			m_mailinglist:reset_log_email(MailingId, PageId, Context),
+            mod_signal:emit({update_mailinglist_scheduled, [{id, PageId}]}, Context),
+			z_render:growl("The statistics have been cleared.", Context);
+		false ->
+			z_render:growl_error("You are not allowed to reset this mailing.", Context)
+	end;
 
 %% @doc Handle upload of a new recipients list
 event({submit, {mailinglist_upload,[{id,Id}]}, _TriggerId, _TargetId}, Context) ->
@@ -135,18 +145,8 @@
             z_render:growl(Msg, "error", true, Context)
     end.
 
-%% @doc Update the list with the mailings scheduled for this page.
-update_scheduled_list(Id, Context) ->
-	Vars = [
-		{id, Id},
-		{scheduled, m_mailinglist:get_scheduled(Id, Context)}
-	],
-	Html = z_template:render("_mailinglist_scheduled.tpl", Vars, Context),
-	z_render:update("mailinglist-scheduled", Html, Context).
 
 
-	
-
 %%====================================================================
 %% API
 %%====================================================================
@@ -284,38 +284,17 @@
 	
 
 %% @doc Send the page to the mailinglist. The first 20 e-mails are send directly, which is useful for
-%% short lists like test e-mail lists. All other e-mails are queued and send later.  When the page is
-%% not yet visible then the mailing is queued.  The test mailinglist is always send directly.
+%% short lists like test e-mail lists. All other e-mails are queued and sent later.
 send_mailing(ListId, PageId, Context) ->
-	case m_rsc:p(ListId, name, Context) of
-		<<"mailinglist_test">> ->
-			spawn(fun() -> send_mailing_process(ListId, PageId, Context) end);
-		_ ->
-			AnonymousContext = z_acl:anondo(Context),
-			case z_acl:rsc_visible(PageId, AnonymousContext) of
-				true -> spawn(fun() -> send_mailing_process(ListId, PageId, AnonymousContext) end);
-				false -> m_mailinglist:insert_scheduled(ListId, PageId, Context)
-			end
-	end.
+    spawn(fun() -> send_mailing_process(ListId, PageId, z_acl:sudo(Context)) end).
+
 
 send_mailing_process(ListId, PageId, Context) ->
     Recipients = m_mailinglist:get_enabled_recipients(ListId, Context),
     SubscribersOf = m_edge:subjects(ListId, subscriberof, Context),
     {Direct,Queued} = split_list(20, Recipients ++ SubscribersOf),
-    FromEmail = case m_rsc:p(ListId, mailinglist_reply_to, Context) of
-                    Empty when Empty =:= undefined; Empty =:= <<>> ->
-                        z_convert:to_list(m_config:get_value(mod_emailer, email_from, Context));
-                    RT ->
-                        z_convert:to_list(RT)
-                end,
-    FromName = case m_rsc:p(ListId, mailinglist_sender_name, Context) of
-                  undefined -> [];
-                  <<>> -> []; 
-                  SenderName -> z_convert:to_list(SenderName)
-               end,
-    From = z_email:combine_name_email(FromName, FromEmail),
     Options = [
-        {id,PageId}, {list_id, ListId}, {email_from, From}
+        {id,PageId}, {list_id, ListId}, {email_from, m_mailinglist:get_email_from(ListId, Context)}
     ],
     
     [ send(true, Email, Options, Context) || Email <- Direct ],
@@ -331,13 +310,18 @@
         case z_convert:to_list(z_string:trim(Email)) of
             [] -> skip;
             Email1 ->
-                Options1 = [{email,Email1}|Options],
-
                 Id = proplists:get_value(id, Options),
-                Attachments = mod_mailinglist:page_attachments(Id, Context),
-
-                z_email_server:send(#email{queue=not(IsDirect), to=Email1,
-	                        html_tpl={cat, "mailing_page.tpl"}, vars=Options1, attachments=Attachments}, Context)
+                ListId = proplists:get_value(list_id, Options),
+                %% check if not already sent
+                case m_mailinglist:already_sent(Email1, ListId, Id, Context) of
+                    true ->
+                        %% already sent.
+                        ok;
+                    false ->
+                        Attachments = mod_mailinglist:page_attachments(Id, Context),
+                        z_email_server:send(#email{queue=not(IsDirect), to=Email1,
+                                                   html_tpl={cat, "mailing_page.tpl"}, vars=[{email,Email1}|Options], attachments=Attachments}, Context)
+                end
         end.
 
 
diff --git a/modules/mod_mailinglist/models/m_mailinglist.erl b/modules/mod_mailinglist/models/m_mailinglist.erl
--- a/modules/mod_mailinglist/models/m_mailinglist.erl
+++ b/modules/mod_mailinglist/models/m_mailinglist.erl
@@ -51,6 +51,10 @@
 	get_scheduled/2,
 	check_scheduled/1,
 
+	get_email_from/2,
+    already_sent/4,
+    reset_log_email/3,
+
 	init_tables/1
 ]).
 
@@ -63,6 +67,10 @@
    M#m{value=stats};
 m_find_value(Id, #m{value=stats}, Context) ->
    get_stats(Id, Context);
+m_find_value(rsc_stats, #m{value=undefined} = M, _Context) ->
+   M#m{value=rsc_stats};
+m_find_value(Id, #m{value=rsc_stats}, Context) ->
+   get_rsc_stats(Id, Context);
 m_find_value(recipient, #m{value=undefined} = M, _Context) ->
    M#m{value=recipient};
 m_find_value(Id, #m{value=recipient}, Context) ->
@@ -107,7 +115,26 @@
 							join rsc on id = page_id
 					where mailinglist_id = $1
 					order by publication_start", [Id], Context),
-	{Count, Scheduled}.
+	{Count + length(m_edge:subjects(Id, subscriber_of, Context)), Scheduled}.
+
+
+%% @doc Get the stats for all mailing lists which have been sent to a rsc (content_id)
+%% @spec get_rsc_stats(int(), Context) -> [ {mailinglist_id::int(), statlist} ]
+get_rsc_stats(Id, Context) ->
+    F = fun() ->
+                Stats = [ {ListId, [{created, Created}, {total, Total}]} || 
+                            {ListId, Created, Total} <- z_db:q("select other_id, min(created) as sent_on, count(distinct(envelop_to)) from log_email where content_id = $1 group by other_id", [Id], Context)],
+                %% merge in all mailer statuses
+                lists:foldl(fun({ListId, Status, Count}, St) ->
+                                    z_utils:prop_replace(ListId,
+                                                         [{z_convert:to_atom(Status), Count}|proplists:get_value(ListId, St, [])],
+                                                         St)
+                            end,
+                            Stats,
+                            z_db:q("select other_id, mailer_status, count(envelop_to) from log_email where content_id = $1 group by other_id, mailer_status", [Id], Context))
+        end,
+    z_depcache:memo(F, {mailinglist_stats, Id}, 1, [Id], Context). %% Cache a little while to prevent database DOS while mail is sending
+
 
 
 %% @doc Fetch all enabled recipients from a list.
@@ -347,9 +374,9 @@
 
 %% @doc Get the list of scheduled mailings for a page.
 get_scheduled(Id, Context) ->
-	z_db:q("select mailinglist_id
-			from mailinglist_scheduled
-			where page_id = $1", [Id], Context).
+	[ListId || {ListId} <- z_db:q("select mailinglist_id
+                			from mailinglist_scheduled
+                			where page_id = $1", [Id], Context)].
 
 
 %% @doc Fetch the next scheduled mailing that is publicly visible, published and in the publication date range.
@@ -365,6 +392,34 @@
 		limit 1", Context).
 
 
+%% @doc Given an email address for a list/page combination, check if this page already has been delivered to this address.
+already_sent(Email, ListId, Id, Context) ->
+    z_convert:to_bool(z_db:q1("select true from log_email where other_id = $1 and content_id = $2 and envelop_to = $3 and mailer_status = 'sent'", [ListId, Id, Email], Context)).
+
+
+%% @doc Reset the email log for given list/page combination, allowing one to send the same page again to the given list.
+reset_log_email(ListId, PageId, Context) ->
+    z_db:q("delete from log_email where other_id = $1 and content_id = $2", [ListId, PageId], Context),
+    z_depcache:flush({mailinglist_stats, PageId}, Context),
+    ok.
+
+
+%% @doc Get the "from" address used for this mailing list. Looks first in the mailinglist rsc for a ' mailinglist_reply_to' field; falls back to mod_emailer.email_from config variable.
+get_email_from(ListId, Context) ->
+    FromEmail = case m_rsc:p(ListId, mailinglist_reply_to, Context) of
+                    Empty when Empty =:= undefined; Empty =:= <<>> ->
+                        z_convert:to_list(m_config:get_value(mod_emailer, email_from, Context));
+                    RT ->
+                        z_convert:to_list(RT)
+                end,
+    FromName = case m_rsc:p(ListId, mailinglist_sender_name, Context) of
+                  undefined -> [];
+                  <<>> -> []; 
+                  SenderName -> z_convert:to_list(SenderName)
+               end,
+    z_email:combine_name_email(FromName, FromEmail).
+
+
 % Install the SQL tables to track recipients and scheduled mailings.
 init_tables(Context) ->
 	case z_db:table_exists(mailinglist_recipient, Context) of
diff --git a/modules/mod_mailinglist/resources/resource_admin_mailing_preview.erl b/modules/mod_mailinglist/resources/resource_admin_mailing_preview.erl
new file mode 100644
--- /dev/null
+++ b/modules/mod_mailinglist/resources/resource_admin_mailing_preview.erl
@@ -0,0 +1,48 @@
+%% @author Arjan Scherpenisse <arjan@scherpenisse.net>
+%% @copyright 2011 Arjan Scherpenisse
+%% @doc Mailing status/control page
+
+%% Copyright 2011 Arjan Scherpenisse
+%%
+%% Licensed under the Apache License, Version 2.0 (the "License");
+%% you may not use this file except in compliance with the License.
+%% You may obtain a copy of the License at
+%% 
+%%     http://www.apache.org/licenses/LICENSE-2.0
+%% 
+%% Unless required by applicable law or agreed to in writing, software
+%% distributed under the License is distributed on an "AS IS" BASIS,
+%% WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+%% See the License for the specific language governing permissions and
+%% limitations under the License.
+
+-module(resource_admin_mailing_preview).
+-author("Arjan Scherpenisse <arjan@scherpenisse.net>").
+
+-export([
+    resource_exists/2,
+    is_authorized/2
+]).
+
+-include_lib("resource_html.hrl").
+
+%% @todo Change this into "visible" and add a view instead of edit template.
+is_authorized(ReqData, Context) ->
+    {Context2, Id} = resource_admin_edit:ensure_id(?WM_REQ(ReqData, Context)),
+    z_acl:wm_is_authorized([{use, mod_mailinglist}, {view, Id}], Context2).
+
+
+resource_exists(ReqData, Context) ->
+    {Context2, Id} = resource_admin_edit:ensure_id(?WM_REQ(ReqData, Context)),
+    case Id of
+        undefined -> ?WM_REPLY(false, Context2);
+        _N -> ?WM_REPLY(m_rsc:exists(Id, Context2), Context2)
+    end.
+        
+
+html(Context) ->
+    PageId = z_context:get(id, Context),
+    ListId = m_rsc:rid(mailinglist_test, Context),
+    Vars = [{id,PageId}, {list_id, ListId}, {email_from, m_mailinglist:get_email_from(ListId, Context)}],
+    Html = z_template:render({cat, "mailing_page.tpl"}, Vars, Context),
+	z_context:output(Html, Context).
diff --git a/modules/mod_mailinglist/resources/resource_admin_mailing_status.erl b/modules/mod_mailinglist/resources/resource_admin_mailing_status.erl
new file mode 100644
--- /dev/null
+++ b/modules/mod_mailinglist/resources/resource_admin_mailing_status.erl
@@ -0,0 +1,48 @@
+%% @author Arjan Scherpenisse <arjan@scherpenisse.net>
+%% @copyright 2011 Arjan Scherpenisse
+%% @doc Mailing status/control page
+
+%% Copyright 2011 Arjan Scherpenisse
+%%
+%% Licensed under the Apache License, Version 2.0 (the "License");
+%% you may not use this file except in compliance with the License.
+%% You may obtain a copy of the License at
+%% 
+%%     http://www.apache.org/licenses/LICENSE-2.0
+%% 
+%% Unless required by applicable law or agreed to in writing, software
+%% distributed under the License is distributed on an "AS IS" BASIS,
+%% WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+%% See the License for the specific language governing permissions and
+%% limitations under the License.
+
+-module(resource_admin_mailing_status).
+-author("Arjan Scherpenisse <arjan@scherpenisse.net>").
+
+-export([
+    resource_exists/2,
+    is_authorized/2
+]).
+
+-include_lib("resource_html.hrl").
+
+%% @todo Change this into "visible" and add a view instead of edit template.
+is_authorized(ReqData, Context) ->
+    {Context2, Id} = resource_admin_edit:ensure_id(?WM_REQ(ReqData, Context)),
+    z_acl:wm_is_authorized([{use, mod_mailinglist}, {view, Id}], Context2).
+
+
+resource_exists(ReqData, Context) ->
+    {Context2, Id} = resource_admin_edit:ensure_id(?WM_REQ(ReqData, Context)),
+    case Id of
+        undefined -> ?WM_REPLY(false, Context2);
+        _N -> ?WM_REPLY(m_rsc:exists(Id, Context2), Context2)
+    end.
+        
+
+html(Context) ->
+    Vars = [
+        {id, z_context:get(id, Context)}
+    ],
+    Html = z_template:render({cat, "admin_mailing_status.tpl"}, Vars, Context),
+	z_context:output(Html, Context).
diff --git a/modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl b/modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl
--- a/modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl
+++ b/modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl
@@ -1,25 +1,12 @@
 {% extends "admin_edit_widget_std.tpl" %}
 
-{% block widget_title %}{_ Send to mailing list _}{% endblock %}
-{% block widget_show_minimized %}{{ m.mailinglist.scheduled[id]|yesno:"false,true" }}{% endblock %}
+{% block widget_title %}{_ Mailing list _}{% endblock %}
+{% block widget_show_minimized %}false{% endblock %}
 
 {% block widget_content %}
-{% with m.mailinglist.scheduled[id] as scheduled %}
-<div class="notification notice">
-	{_ Send this page to a mailing list. _}
-	<a href="javascript:void(0)" class="do_dialog"  data-dialog="title: '{_ Help about mailing lists. _}', text: '{_ You can send this page as an e-mail to everyone in a mailing list. If the page has a future publication start date, is not yet published or is not visible for the world then the mail will be send after publication of the page. _}', width: '450px'">{_ Need more help? _}</a>
+
+<div class="clearfix">
+    <a class="button do_tooltip" title="{_ Send this page to a mailinglist and view mailinglist statistics. _}" href="{% url admin_mailing_status id=id %}">{_ Go to mailinglist page _}</a>
+    {% button text=_"Email page" title=_"Send this page to an e-mail address." class="do_tooltip" action={dialog_email_page id=id} %}
 </div>
-
-{% button text=_"Send mailing" title=_"Select a mailing list to send this page to." class="do_tooltip" action={dialog_mailing_page id=id} %}
-
-{% button text=_"Send test mailing" class="do_tooltip" disabled=not m.rsc.mailinglist_test.is_visible title=_"Send this page to the test mailing list." action={mailing_page_test id=id} %}
-
-{% button text=_"Email page" title=_"Send this page to an e-mail address." class="do_tooltip" action={dialog_email_page id=id} %}
-
-<div class="clear"></div>
-
-<div id="mailinglist-scheduled">
-	{% include "_mailinglist_scheduled.tpl" id=id scheduled=scheduled %}
-</div>
-{% endwith %}
 {% endblock %}
diff --git a/modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl b/modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl
new file mode 100644
--- /dev/null
+++ b/modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl
@@ -0,0 +1,75 @@
+
+{% with m.mailinglist.rsc_stats[id] as rsc_stats %}
+{% with m.mailinglist.scheduled[id] as scheduled %}
+
+{% if rsc_stats %}
+<p>{{ m.rsc[id].title }} {_ has been sent to the following lists: _}</p>
+{% else %}
+<p>{{ m.rsc[id].title }} {_ has never been sent yet. _}</p>
+{% endif %}
+<h3 class="above-list">{_ Mailing lists _}</h3>
+		<ul class="short-list">
+			<li class="headers clearfix">
+				<span class="zp-45">{_ Title _}</span>
+				<span class="zp-10">{_ Recipients _}</span>
+				<span class="zp-10">{_ Sent on _}</span>
+				<span class="zp-25">{_ Statistics _}</span>
+				<span class="zp-10">{_ Actions _}</span>
+			</li>
+		{% for title, mid in m.search[{all_bytitle cat="mailinglist"}] %}
+            {% with m.mailinglist.stats[mid] as stats %}
+			<li id="mailinglist-{{ mid }}" class="clearfix">
+
+					<span class="zp-45">
+                        <a href="{% url admin_mailinglist_recipients id=mid %}">{{ title|default:"untitled" }}</a>
+                    </span>
+
+                    <span class="zp-10">{{ stats[1]|format_number }}</span>
+
+                    {% if rsc_stats[mid].created %}
+                    <span class="zp-10">
+                        <a href="{% url admin_log_email content=id other=mid severity=4 %}" title="{_ Click to view log entries _}">{{ rsc_stats[mid].created|date:"Y-m-d H:i" }}</a>
+                        {% if mid|member:scheduled %}{_ scheduled _}{% endif %}
+                    </span>
+					<span class="zp-25">
+                        {% if stats[1] > rsc_stats[mid].total %}
+                        <a href="{% url admin_log_email status='sent' content=id other=mid severity=4 %}" title="{_ Click to view log entries _}">{{ rsc_stats[mid].total|default:0 }} {_ processed _}</a>
+                        {% else %}
+                        <a href="{% url admin_log_email status='sent' content=id other=mid severity=4 %}" title="{_ Click to view log entries _}">{_ All processed _}</a>
+                        {% endif %}
+                        (<a href="{% url admin_log_email status='sent' content=id other=mid severity=4 %}" title="{_ Click to view log entries _}">{{ rsc_stats[mid].sent|default:0 }} {_ OK _}</a>,
+                         <a href="{% url admin_log_email status='bounce' content=id other=mid severity=4 %}" title="{_ Click to view log entries _}">{{ rsc_stats[mid].bounce|default:0 }} {_ bounced _}</a>,
+                         <a href="{% url admin_log_email status='error' content=id other=mid severity=4 %}" title="{_ Click to view log entries _}">{{ rsc_stats[mid].error|default:0 }} {_ error _}</a>)
+                    </span>
+
+                {% else %}
+                    <span class="zp-10">
+                        {% if mid|member:scheduled %}{_ scheduled _}{% endif %}
+                    </span>
+					<span class="zp-25">
+                        -
+                    </span>
+                {% endif %}
+
+					<span class="button-area">
+                        {% if mid|member:scheduled %}
+                                {% button text=_"cancel" postback={dialog_mailing_cancel_confirm list_id=mid page_id=id} delegate="mod_mailinglist"  %}
+                        {% else %}
+                                {% if stats[1] > rsc_stats[mid].total|default:0 %}
+                                {% button text=_"send mailing" action={dialog_mailing_page id=id list_id=mid} title=_"send to "|append:m.rsc[mid].title %}
+                                {% else %}
+                                {% button text=_"clear" action={confirm text=_"Are you sure you want to reset the statistics for this mailing? This means that if you send the mailing again afterwards, recipients might have gotten the mailing twice." postback={mailinglist_reset list_id=mid page_id=id} delegate="mod_mailinglist"} %}
+                                {% endif %}
+                        {% endif %}
+					</span>
+			</li>
+            {% endwith %}
+		{% empty %}
+			<li>
+				{_ No items found _}
+			</li>
+		{% endfor %}
+		</ul>
+
+{% endwith %}
+{% endwith %}
diff --git a/modules/mod_mailinglist/templates/_dialog_mailing_cancel_confirm.tpl b/modules/mod_mailinglist/templates/_dialog_mailing_cancel_confirm.tpl
--- a/modules/mod_mailinglist/templates/_dialog_mailing_cancel_confirm.tpl
+++ b/modules/mod_mailinglist/templates/_dialog_mailing_cancel_confirm.tpl
@@ -1,4 +1,4 @@
-<p>{_ Are you sure you want to cancel the mailing to _} “{{ m.rsc[mailinglist_id].title }}”?</p>
-	
-{% button text=_"Cancel mailing" postback={mailing_cancel mailinglist_id=mailinglist_id page_id=page_id} action={dialog_close} %}
-{% button text=_"Keep mailing" action={dialog_close} %}
\ No newline at end of file
+<p>{_ Are you sure you want to cancel the mailing to _} “{{ m.rsc[list_id].title }}”?</p>
+
+{% button text=_"Cancel mailing" postback={mailing_cancel list_id=list_id page_id=page_id} action={dialog_close} %}
+{% button text=_"Keep mailing" action={dialog_close} %}
diff --git a/modules/mod_mailinglist/templates/_dialog_mailing_page.tpl b/modules/mod_mailinglist/templates/_dialog_mailing_page.tpl
--- a/modules/mod_mailinglist/templates/_dialog_mailing_page.tpl
+++ b/modules/mod_mailinglist/templates/_dialog_mailing_page.tpl
@@ -1,27 +1,35 @@
+{% with m.mailinglist.rsc_stats[id] as rsc_stats %}
 
-<p>{_ Select a mailing list to send the page _} {{ m.rsc[id].title }} {_ to: _}</p>
+<p>{_ Please confirm that you want to send the page _} {{ m.rsc[id].title }} {_ to the list _} {{ m.rsc[list_id].title }}</p>
+
+{% if rsc_stats[list_id].total > 0 %}
+<p><strong>{_ Please note: _}</strong> {_ It appears you have sent
+    this page once already to this list. If you send it again, only
+    the recipients that did not yet receive the mail will get it. As a
+    safety-caution, it is impossible to send the same page twice to
+    the same e-mail address. _}</p>
+{% endif %}
+
 
 {% wire type="submit" id=#form postback={mailing_page id=id on_success=on_success} action={dialog_close} delegate=delegate %}
 <form id="{{ #form }}" method="post" action="postback">
-	<select name="mailinglist_id">
-		<option value="" disabled="disabled">{_ Select mailing list _}</option>
-		{% for title, id in m.search[{all_bytitle cat="mailinglist"}] %}
-			{% ifnotequal m.rsc[id].name "mailinglist_test" %}
-				<option value="{{ id }}" {% if not m.rsc[id].is_editable %}disabled="disabled"{% endif %}>{{ title }}</option>
-			{% endifnotequal %}
-		{% endfor %}
-	</select>
-	
-	<div class="clear">&nbsp;</div>
+    <input type="hidden" name="list_id" value="{{ list_id }}" />
 
-	{% if not m.rsc[id].is_published %}
-		<p>{_ The mailing will be send after this page has been published. _}</p>
-	{% else %}
-		{% if m.rsc[id].publication_start|in_future %}
-			<p>{_ The mailing will be send after the publication start date of _} {{ m.rsc[id].publication_start|date:"d M Y, H:i" }}.</p>
-		{% endif %}
+    {% if not m.rsc[id].is_published or m.rsc[id].publication_start|in_future %}
+    <p>{_ The page you are trying to e-mail is not yet published. What do you want to do? _}</p>
+    
+    <p><input type="radio" name="mail_when" value="now" checked="checked" /> {_ Send the mailing right now, but do not include a link back to the website. _}<br />
+        <input type="radio" name="mail_when" value="scheduled" />
+        {% if not m.rsc[id].is_published %}
+        {_ Send the mailing immediately after the "published" checkbox has been checked in the edit page. _}
+        {% else %}
+        {_ Send the mailing automatically after the publication start date of _} {{ m.rsc[id].publication_start|date:"d M Y, H:i" }}.
+        {% endif %}
+    </p>
 	{% endif %}
-	
+
 	{% button text=_"Send mailing" %}
 	{% button text=_"Cancel" action={dialog_close} %}
 </form>
+
+{% endwith %}
diff --git a/modules/mod_mailinglist/templates/admin_mailing_status.tpl b/modules/mod_mailinglist/templates/admin_mailing_status.tpl
new file mode 100644
--- /dev/null
+++ b/modules/mod_mailinglist/templates/admin_mailing_status.tpl
@@ -0,0 +1,33 @@
+{% extends "admin_base.tpl" %}
+
+{% block title %}{_ Mailing status _} &mdash; {{ m.rsc[id].title }}{% endblock %}
+
+{% block content %}
+	<div id="content" class="zp-85">
+		<div class="block clearfix">
+
+            <p class="admin-chapeau">{_ mailinglist status page _}:</p>
+            <h2>{{ m.rsc[id].title }}</h2>
+
+            <div class="notification notice">
+                {_ This page can be sent to different mailing lists. _}
+                <a href="javascript:void(0)" class="do_dialog" data-dialog="title: '{{ _"Help about the mailing page."|escapejs }}', text: '{{ _"This overview allows you to send the current page to a group of recipients, grouped into mailing lists. Choose 'preview mailing' to open a popup window which shows how the mailing will look like when it is sent; choose 'send test mailing' to send it to the predefined list of test e-mail addresses. Choose 'edit' to go back to editing the page.  Each mailinglist is listed in the table below, together with statistics on when it was sent and to how many recipients."|escapejs }}', width: '450px'">{_ Need more help? _}</a>
+            </div>
+
+            <div class="clearfix">
+                <a href="{% url admin_edit_rsc id=id %}" class="button">{_ edit _}</a>
+                <a href="{% url admin_mailing_preview id=id %}" class="button" onclick="window.open(this.getAttribute('href'), 'mailingpreview', 'width=800,height=800');return false;">{_ preview mailing _}</a>
+                {% button text=_"Send test mailing" class="do_tooltip" title=_"Send this page to the test mailing list." action={mailing_page_test id=id} %}
+            </div>
+
+            <hr />
+
+            <div class="zp-100" id="mailing-status">
+                {% include "_admin_mailing_status_overview.tpl" %}
+            </div>
+
+            {% wire action={connect signal={log_email} action={update target="mailing-status" template="_admin_mailing_status_overview.tpl" id=id}} %}
+            {% wire action={connect signal={update_mailinglist_scheduled} action={update target="mailing-status" template="_admin_mailing_status_overview.tpl" id=id}} %}
+        </div>
+	</div>
+{% endblock %}
diff --git a/modules/mod_mailinglist/templates/admin_mailinglist.tpl b/modules/mod_mailinglist/templates/admin_mailinglist.tpl
--- a/modules/mod_mailinglist/templates/admin_mailinglist.tpl
+++ b/modules/mod_mailinglist/templates/admin_mailinglist.tpl
@@ -30,7 +30,7 @@
 					<span class="zp-20">{{ title|default:"untitled" }}</span>
 					<span class="zp-40">{{ m.rsc[id].summary|default:"-" }}</span>
 					{% with m.mailinglist.stats[id] as stats %}
-						<span class="zp-10">{{ (stats[1] + id.s.subscriberof|length)|format_number }}</span>
+						<span class="zp-10">{{ stats[1]|format_number }}</span>
 						<span class="zp-10">{{ stats[2]|length|format_number }}</span>
 					{% endwith %}
 					<span class="zp-20">
diff --git a/modules/mod_mailinglist/translations/nl.po b/modules/mod_mailinglist/translations/nl.po
--- a/modules/mod_mailinglist/translations/nl.po
+++ b/modules/mod_mailinglist/translations/nl.po
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: zotonic\n"
 "POT-Creation-Date: YEAR-MO-DA HO:MI+ZONE\n"
-"PO-Revision-Date: 2011-07-21 10:20+0200\n"
+"PO-Revision-Date: 2011-08-02 17:01+0200\n"
 "Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
 "Language-Team: LANGUAGE <LL@li.org>\n"
 "Language: \n"
@@ -68,6 +68,7 @@
 msgstr "Actief"
 
 #: modules/mod_mailinglist/templates/admin_mailinglist.tpl:24
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:17
 #: modules/mod_mailinglist/templates/admin_mailinglist_recipients.tpl:38
 msgid "Actions"
 msgstr "Acties"
@@ -90,6 +91,10 @@
 msgid "All mailing lists"
 msgstr "Alle mailinglijsten"
 
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:38
+msgid "All processed"
+msgstr "Alles verwerkt"
+
 #: modules/mod_mailinglist/templates/admin_mailinglist_recipients.tpl:23
 msgid ""
 "All recipients of the mailing list. You can upload or download this list, "
@@ -115,6 +120,16 @@
 msgid "Are you sure you want to delete the mailing list"
 msgstr "Weet je zeker dat je de volgende mailinglijst wilt verwijderen:"
 
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:61
+msgid ""
+"Are you sure you want to reset the statistics for this mailing? This means "
+"that if you send the mailing again afterwards, recipients might have gotten "
+"the mailing twice."
+msgstr ""
+"Weet je zeker dat je de statistieken voor deze mailing wilt wissen?\n"
+"Dit betekent dat als je de mailing nog een keer verstuurt, ontvangers\n"
+"hem mogelijk dubbel zullen krijgen."
+
 #: modules/mod_mailinglist/templates/email_mailinglist_confirm.tpl:9
 msgid ""
 "Before you will receive any further mail you need to confirm your "
@@ -122,7 +137,7 @@
 msgstr "Voordat je email ontvangt, moet je aanmelding eerst worden bevestigd."
 
 #: modules/mod_mailinglist/templates/_mailinglist_scheduled.tpl:12
-#: modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:26
+#: modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:24
 #: modules/mod_mailinglist/templates/_dialog_mailinglist_recipients_upload.tpl:13
 #: modules/mod_mailinglist/templates/_dialog_email_page.tpl:13
 msgid "Cancel"
@@ -154,6 +169,19 @@
 "Click the button below to confirm your subscription to this mailing list."
 msgstr "Klik op de onderstaande knop om je aanmelding te bevestingen."
 
+#: modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:8
+msgid "Click the button below to send this page to a mailinglist."
+msgstr "Klik op de onderstaande knop om deze pagina naar een mailinglijst te versturen."
+
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:31
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:36
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:38
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:40
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:41
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:42
+msgid "Click to view log entries"
+msgstr "Klik om e-mail log te bekijken"
+
 #: modules/mod_mailinglist/templates/admin_mailinglist_recipients.tpl:20
 msgid "Delete all recipients from this list?"
 msgstr "Alle geaddresseerden van deze lijst verwijderen?"
@@ -186,10 +214,6 @@
 msgid "Email"
 msgstr "Email"
 
-#: modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:17
-msgid "Email page"
-msgstr "Email deze pagina"
-
 #: modules/mod_mailinglist/templates/_mailinglist_subscribe_form.tpl:22
 msgid "First name"
 msgstr "Voornaam"
@@ -210,6 +234,10 @@
 msgid "Give your e-mail address to subscribe to"
 msgstr "Geef je email adres waarmee je je wilt aanmelden."
 
+#: modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:10
+msgid "Go to mailinglist page"
+msgstr "Ga naar mailingpagina"
+
 #: modules/mod_mailinglist/templates/email_mailinglist_goodbye.tpl:6
 msgid "Goodbye,"
 msgstr "Tot ziens,"
@@ -220,7 +248,6 @@
 msgstr "Hallo,"
 
 #: modules/mod_mailinglist/templates/_admin_edit_sidebar.mailinglist.tpl:10
-#: modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:10
 msgid "Help about mailing lists."
 msgstr "Hulp over mailinglijsten"
 
@@ -228,6 +255,19 @@
 msgid "Hope to see you again."
 msgstr "Hopelijk tot ziens"
 
+#: modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:6
+msgid ""
+"It appears you have sent\n"
+"    this page once already to this list. If you send it again, only\n"
+"    the recipients that did not yet receive the mail will get it. As a\n"
+"    safety-caution, it is impossible to send the same page twice to\n"
+"    the same e-mail address."
+msgstr ""
+"Het lijkt erop dat deze pagina al eens naar deze lijst is\n"
+"verstuurd. Als je deze pagina opnieuw verstuurt, zal hij (als\n"
+"veiligheidsmaatregel) alleen aankomen bij de ontvangers die hem nog\n"
+"niet eerder hebben gekregen."
+
 #: modules/mod_mailinglist/templates/_dialog_mailing_cancel_confirm.tpl:4
 msgid "Keep mailing"
 msgstr "Niet afmelden"
@@ -255,12 +295,16 @@
 msgstr "Mailinglijst instellingen"
 
 #: modules/mod_mailinglist/templates/admin_mailinglist.tpl:9
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:10
 #: modules/mod_mailinglist/templates/_admin_menu_module.tpl:2
 msgid "Mailing lists"
 msgstr "Mailinglijsten"
 
+#: modules/mod_mailinglist/templates/admin_mailing_status.tpl:3
+msgid "Mailing status"
+msgstr "Mailing status"
+
 #: modules/mod_mailinglist/templates/_admin_edit_sidebar.mailinglist.tpl:10
-#: modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:10
 msgid "Need more help?"
 msgstr "Meer hulp nodig?"
 
@@ -269,6 +313,7 @@
 msgstr "Nieuwe mailinglijst"
 
 #: modules/mod_mailinglist/templates/admin_mailinglist.tpl:50
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:69
 msgid "No items found"
 msgstr "Geen ontvangers gevonden"
 
@@ -276,10 +321,18 @@
 msgid "No recipients"
 msgstr "Geen ontvangers"
 
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:40
+msgid "OK"
+msgstr "OK"
+
 #: modules/mod_mailinglist/templates/mailinglist_unsubscribe.tpl:24
 msgid "Our excuses for the inconvenience."
 msgstr "Onze excuses voor het ongemak"
 
+#: modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:3
+msgid "Please confirm that you want to send the page"
+msgstr "Bevestig a.u.b. dat je de pagina"
+
 #: modules/mod_mailinglist/templates/mailinglist_confirm.tpl:16
 msgid "Please confirm your subscription"
 msgstr "Bevestig a.u.b. uw aanmelding"
@@ -292,6 +345,10 @@
 msgid "Please follow"
 msgstr "Klik a.u.b. op"
 
+#: modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:6
+msgid "Please note:"
+msgstr "Let op:"
+
 #: modules/mod_mailinglist/templates/_mailing_footer.tpl:8
 msgid "Please unsubscribe"
 msgstr "Klik hier"
@@ -305,6 +362,7 @@
 msgstr "Lees deze pagina online"
 
 #: modules/mod_mailinglist/templates/admin_mailinglist.tpl:22
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:14
 #: modules/mod_mailinglist/templates/admin_mailinglist_recipients.tpl:33
 msgid "Recipients"
 msgstr "Ontvangers"
@@ -335,32 +393,19 @@
 msgid "See the"
 msgstr "Bekijk de"
 
-#: modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:2
-msgid "Select a mailing list to send the page"
-msgstr "Kies een mailinglijst om deze pagina naartoe te sturen"
-
-#: modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:13
-msgid "Select a mailing list to send this page to."
-msgstr "Kies een mailinglijst om deze pagina naartoe te sturen<"
-
 #: modules/mod_mailinglist/templates/_dialog_mailinglist_recipients_upload.tpl:7
 msgid "Select file"
 msgstr "Kies bestand"
 
-#: modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:7
-msgid "Select mailing list"
-msgstr "Kies mailinglijst"
-
 #: modules/mod_mailinglist/templates/_dialog_email_page.tpl:12
 msgid "Send e-mail"
 msgstr "Via email"
 
-#: modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:25
-#: modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:13
+#: modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:23
 msgid "Send mailing"
 msgstr "Verstuur mailing"
 
-#: modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:15
+#: modules/mod_mailinglist/templates/admin_mailing_status.tpl:15
 msgid "Send test mailing"
 msgstr "Verstuur testmailing"
 
@@ -368,15 +413,7 @@
 msgid "Send the page"
 msgstr "Verstuur pagina"
 
-#: modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:9
-msgid "Send this page to a mailing list."
-msgstr "Verstuur deze pagina naar een mailinglijst."
-
-#: modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:17
-msgid "Send this page to an e-mail address."
-msgstr "Verstuur deze pagina naar een email adres."
-
-#: modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:15
+#: modules/mod_mailinglist/templates/admin_mailing_status.tpl:15
 msgid "Send this page to the test mailing list."
 msgstr "Verstuur deze pagina naar de testmailinglijst."
 
@@ -396,6 +433,10 @@
 msgid "Sender name for e-mails (optional)"
 msgstr "Afzendernaam voor mailings (optioneel)"
 
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:15
+msgid "Sent on"
+msgstr "Verstuurd op"
+
 #: modules/mod_mailinglist/templates/_dialog_email_page.tpl:3
 msgid "Sent the e-mail."
 msgstr "Email verstuurd."
@@ -420,6 +461,10 @@
 msgid "Sorry, can’t find your subscription"
 msgstr "Je aanmelding is niet gevonden."
 
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:16
+msgid "Statistics"
+msgstr "Statistieken"
+
 #: modules/mod_mailinglist/templates/mailinglist_confirm.tpl:21
 msgid "Subscribe"
 msgstr "Aanmelden"
@@ -445,11 +490,11 @@
 "unsubscribed, or the mailing list has been deleted."
 msgstr "De afmeldlink is ongeldig. Misschien ben je al afgemeld."
 
-#: modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:21
+#: modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:19
 msgid "The mailing will be send after the publication start date of"
 msgstr "De mailing zal worden verstuurd op de publicatiedatum"
 
-#: modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:18
+#: modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:16
 msgid "The mailing will be send after this page has been published."
 msgstr ""
 "De mailing zal worden verstuurd wanneer deze pagina gepubliceerd wordt."
@@ -467,6 +512,7 @@
 msgstr "Je krijgt deze mail omdat iemand die"
 
 #: modules/mod_mailinglist/templates/admin_mailinglist.tpl:20
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:13
 msgid "Title"
 msgstr "Titel"
 
@@ -537,18 +583,6 @@
 msgid "You can"
 msgstr "Je kunt"
 
-#: modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:10
-msgid ""
-"You can send this page as an e-mail to everyone in a mailing list. If the "
-"page has a future publication start date, is not yet published or is not "
-"visible for the world then the mail will be send after publication of the "
-"page."
-msgstr ""
-"Je kan deze pagina als een email versturen naar iedereen die lid is\n"
-"van een mailinglijst. Als de pagina een publicatiedatum in de toekomst\n"
-"heeft of nog niet gepubliceerd is, dan wordt de mail pas verstuurd\n"
-"nadat de pagina is gepubliceerd."
-
 #: modules/mod_mailinglist/templates/mailinglist_confirm.tpl:31
 msgid ""
 "You can try to re-subscribe to one of our mailing lists in the side column."
@@ -576,12 +610,21 @@
 "verstuurd naar het opgegeven adres. Als de mail niet aankomt, controleer dan "
 "de \"spam\" folder."
 
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:41
+msgid "bounced"
+msgstr "bounce"
+
 #: modules/mod_mailinglist/templates/_dialog_mailinglist_delete_confirm.tpl:9
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:56
 #: modules/mod_mailinglist/templates/admin_mailinglist_recipients.tpl:14
 #: modules/mod_mailinglist/templates/_mailinglist_subscribe_form.tpl:62
 msgid "cancel"
 msgstr "annuleer"
 
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:61
+msgid "clear"
+msgstr "wissen"
+
 #: modules/mod_mailinglist/templates/email_mailinglist_welcome.tpl:10
 msgid "click here to unsubscribe."
 msgstr "hier klikken om je af te melden."
@@ -598,18 +641,43 @@
 msgstr "email"
 
 #: modules/mod_mailinglist/templates/admin_mailinglist.tpl:39
+#: modules/mod_mailinglist/templates/admin_mailing_status.tpl:13
 #: modules/mod_mailinglist/templates/_mailinglist_subscribe_form.tpl:56
 msgid "edit"
 msgstr "bewerk"
 
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:42
+msgid "error"
+msgstr "fout"
+
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:6
+msgid "has been sent to the following lists:"
+msgstr "is verzonden naar de volgende mailinglijsten:"
+
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:8
+msgid "has never been sent yet."
+msgstr "is nog nooit verstuurd."
+
 #: modules/mod_mailinglist/templates/mailinglist_unsubscribe.tpl:12
 msgid "mailing list"
 msgstr "mailinglijst"
 
+#: modules/mod_mailinglist/templates/admin_mailing_status.tpl:9
+msgid "mailinglist status page"
+msgstr "mailinglijst statuspagina"
+
 #: modules/mod_mailinglist/templates/email_mailinglist_confirm.tpl:11
 msgid "or copy and paste the address below in your browser."
 msgstr "of copy-paste het onderstaande adres in je browser."
 
+#: modules/mod_mailinglist/templates/admin_mailing_status.tpl:14
+msgid "preview mailing"
+msgstr "Mailingvoorbeeld"
+
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:36
+msgid "processed"
+msgstr "verwerkt"
+
 #: modules/mod_mailinglist/templates/email_page.tpl:7
 msgid "read the full article online."
 msgstr "lees het hele artikel online."
@@ -618,6 +686,19 @@
 msgid "recipients"
 msgstr "ontvangers"
 
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:32
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:47
+msgid "scheduled"
+msgstr "ingepland"
+
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:59
+msgid "send mailing"
+msgstr "Verstuur mailing"
+
+#: modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:59
+msgid "send to "
+msgstr "verstuur naar"
+
 #: modules/mod_mailinglist/templates/_mailinglist_subscribe_form.tpl:58
 msgid "subscribe"
 msgstr "aanmelden"
@@ -634,7 +715,10 @@
 msgid "thought you would be interested."
 msgstr "bezocht dacht dat je dit leuk zou vinden."
 
-#: modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:2
+#: modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:3
+msgid "to"
+msgstr "naar:"
+
 #: modules/mod_mailinglist/templates/_dialog_email_page.tpl:1
 msgid "to:"
 msgstr "naar:"
@@ -651,5 +735,34 @@
 msgid "with your e-mail address"
 msgstr "met je email adres"
 
+#~ msgid "Mailinglist status"
+#~ msgstr "Mailinglijst status"
+
+#~ msgid "Email page"
+#~ msgstr "Email deze pagina"
+
+#~ msgid "Select a mailing list to send this page to."
+#~ msgstr "Kies een mailinglijst om deze pagina naartoe te sturen<"
+
+#~ msgid "Select mailing list"
+#~ msgstr "Kies mailinglijst"
+
+#~ msgid "Send this page to a mailing list."
+#~ msgstr "Verstuur deze pagina naar een mailinglijst."
+
+#~ msgid "Send this page to an e-mail address."
+#~ msgstr "Verstuur deze pagina naar een email adres."
+
+#~ msgid ""
+#~ "You can send this page as an e-mail to everyone in a mailing list. If the "
+#~ "page has a future publication start date, is not yet published or is not "
+#~ "visible for the world then the mail will be send after publication of the "
+#~ "page."
+#~ msgstr ""
+#~ "Je kan deze pagina als een email versturen naar iedereen die lid is\n"
+#~ "van een mailinglijst. Als de pagina een publicatiedatum in de toekomst\n"
+#~ "heeft of nog niet gepubliceerd is, dan wordt de mail pas verstuurd\n"
+#~ "nadat de pagina is gepubliceerd."
+
 #~ msgid "make smaller"
 #~ msgstr "kleiner"
diff --git a/modules/mod_mailinglist/translations/template/en.pot b/modules/mod_mailinglist/translations/template/en.pot
--- a/modules/mod_mailinglist/translations/template/en.pot
+++ b/modules/mod_mailinglist/translations/template/en.pot
@@ -65,7 +65,7 @@
 "Act"
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/admin_mailinglist.tpl:24 ./modules/mod_mailinglist/templates/admin_mailinglist_recipients.tpl:38 
+#: ./modules/mod_mailinglist/templates/admin_mailinglist.tpl:24 ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:17 ./modules/mod_mailinglist/templates/admin_mailinglist_recipients.tpl:38 
 msgid ""
 "Actions"
 msgstr ""
@@ -90,6 +90,11 @@
 "All mailing lists"
 msgstr ""
 
+#: ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:38 
+msgid ""
+"All processed"
+msgstr ""
+
 #: ./modules/mod_mailinglist/templates/admin_mailinglist_recipients.tpl:23 
 msgid ""
 "All recipients of the mailing list. You can upload or download this list, "
@@ -113,13 +118,20 @@
 "Are you sure you want to delete the mailing list"
 msgstr ""
 
+#: ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:61 
+msgid ""
+"Are you sure you want to reset the statistics for this mailing? This means "
+"that if you send the mailing again afterwards, recipients might have gotten "
+"the mailing twice."
+msgstr ""
+
 #: ./modules/mod_mailinglist/templates/email_mailinglist_confirm.tpl:9 
 msgid ""
 "Before you will receive any further mail you need to confirm your "
 "subscription."
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/_mailinglist_scheduled.tpl:12 ./modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:26 ./modules/mod_mailinglist/templates/_dialog_mailinglist_recipients_upload.tpl:13 ./modules/mod_mailinglist/templates/_dialog_email_page.tpl:13 
+#: ./modules/mod_mailinglist/templates/_mailinglist_scheduled.tpl:12 ./modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:24 ./modules/mod_mailinglist/templates/_dialog_mailinglist_recipients_upload.tpl:13 ./modules/mod_mailinglist/templates/_dialog_email_page.tpl:13 
 msgid ""
 "Cancel"
 msgstr ""
@@ -155,6 +167,16 @@
 "Click the button below to confirm your subscription to this mailing list."
 msgstr ""
 
+#: ./modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:8 
+msgid ""
+"Click the button below to send this page to a mailinglist."
+msgstr ""
+
+#: ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:31 ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:36 ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:38 ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:40 ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:41 ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:42 
+msgid ""
+"Click to view log entries"
+msgstr ""
+
 #: ./modules/mod_mailinglist/templates/admin_mailinglist_recipients.tpl:20 
 msgid ""
 "Delete all recipients from this list?"
@@ -195,11 +217,6 @@
 "Email"
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:17 
-msgid ""
-"Email page"
-msgstr ""
-
 #: ./modules/mod_mailinglist/templates/_mailinglist_subscribe_form.tpl:22 
 msgid ""
 "First name"
@@ -221,6 +238,11 @@
 "Give your e-mail address to subscribe to"
 msgstr ""
 
+#: ./modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:10 
+msgid ""
+"Go to mailinglist page"
+msgstr ""
+
 #: ./modules/mod_mailinglist/templates/email_mailinglist_goodbye.tpl:6 
 msgid ""
 "Goodbye,"
@@ -231,7 +253,7 @@
 "Hello,"
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/_admin_edit_sidebar.mailinglist.tpl:10 ./modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:10 
+#: ./modules/mod_mailinglist/templates/_admin_edit_sidebar.mailinglist.tpl:10 
 msgid ""
 "Help about mailing lists."
 msgstr ""
@@ -241,6 +263,14 @@
 "Hope to see you again."
 msgstr ""
 
+#: ./modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:6 
+msgid ""
+"It appears you have sent\n    this page once already to this list. If you "
+"send it again, only\n    the recipients that did not yet receive the mail "
+"will get it. As a\n    safety-caution, it is impossible to send the same "
+"page twice to\n    the same e-mail address."
+msgstr ""
+
 #: ./modules/mod_mailinglist/templates/_dialog_mailing_cancel_confirm.tpl:4 
 msgid ""
 "Keep mailing"
@@ -271,12 +301,17 @@
 "Mailing list settings."
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/admin_mailinglist.tpl:9 ./modules/mod_mailinglist/templates/_admin_menu_module.tpl:2 
+#: ./modules/mod_mailinglist/templates/admin_mailinglist.tpl:9 ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:10 ./modules/mod_mailinglist/templates/_admin_menu_module.tpl:2 
 msgid ""
 "Mailing lists"
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/_admin_edit_sidebar.mailinglist.tpl:10 ./modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:10 
+#: ./modules/mod_mailinglist/templates/admin_mailing_status.tpl:3 
+msgid ""
+"Mailing status"
+msgstr ""
+
+#: ./modules/mod_mailinglist/templates/_admin_edit_sidebar.mailinglist.tpl:10 
 msgid ""
 "Need more help?"
 msgstr ""
@@ -286,7 +321,7 @@
 "New mailing list"
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/admin_mailinglist.tpl:50 
+#: ./modules/mod_mailinglist/templates/admin_mailinglist.tpl:50 ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:69 
 msgid ""
 "No items found"
 msgstr ""
@@ -296,11 +331,21 @@
 "No recipients"
 msgstr ""
 
+#: ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:40 
+msgid ""
+"OK"
+msgstr ""
+
 #: ./modules/mod_mailinglist/templates/mailinglist_unsubscribe.tpl:24 
 msgid ""
 "Our excuses for the inconvenience."
 msgstr ""
 
+#: ./modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:3 
+msgid ""
+"Please confirm that you want to send the page"
+msgstr ""
+
 #: ./modules/mod_mailinglist/templates/mailinglist_confirm.tpl:16 
 msgid ""
 "Please confirm your subscription"
@@ -316,6 +361,11 @@
 "Please follow"
 msgstr ""
 
+#: ./modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:6 
+msgid ""
+"Please note:"
+msgstr ""
+
 #: ./modules/mod_mailinglist/templates/_mailing_footer.tpl:8 
 msgid ""
 "Please unsubscribe"
@@ -331,7 +381,7 @@
 "Read this page on the web."
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/admin_mailinglist.tpl:22 ./modules/mod_mailinglist/templates/admin_mailinglist_recipients.tpl:33 
+#: ./modules/mod_mailinglist/templates/admin_mailinglist.tpl:22 ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:14 ./modules/mod_mailinglist/templates/admin_mailinglist_recipients.tpl:33 
 msgid ""
 "Recipients"
 msgstr ""
@@ -362,37 +412,22 @@
 "See the"
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:2 
-msgid ""
-"Select a mailing list to send the page"
-msgstr ""
-
-#: ./modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:13 
-msgid ""
-"Select a mailing list to send this page to."
-msgstr ""
-
 #: ./modules/mod_mailinglist/templates/_dialog_mailinglist_recipients_upload.tpl:7 
 msgid ""
 "Select file"
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:7 
-msgid ""
-"Select mailing list"
-msgstr ""
-
 #: ./modules/mod_mailinglist/templates/_dialog_email_page.tpl:12 
 msgid ""
 "Send e-mail"
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:25 ./modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:13 
+#: ./modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:23 
 msgid ""
 "Send mailing"
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:15 
+#: ./modules/mod_mailinglist/templates/admin_mailing_status.tpl:15 
 msgid ""
 "Send test mailing"
 msgstr ""
@@ -402,17 +437,7 @@
 "Send the page"
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:9 
-msgid ""
-"Send this page to a mailing list."
-msgstr ""
-
-#: ./modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:17 
-msgid ""
-"Send this page to an e-mail address."
-msgstr ""
-
-#: ./modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:15 
+#: ./modules/mod_mailinglist/templates/admin_mailing_status.tpl:15 
 msgid ""
 "Send this page to the test mailing list."
 msgstr ""
@@ -437,6 +462,11 @@
 "Sender name for e-mails (optional)"
 msgstr ""
 
+#: ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:15 
+msgid ""
+"Sent on"
+msgstr ""
+
 #: ./modules/mod_mailinglist/templates/_dialog_email_page.tpl:3 
 msgid ""
 "Sent the e-mail."
@@ -463,6 +493,11 @@
 "Sorry, can’t find your subscription"
 msgstr ""
 
+#: ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:16 
+msgid ""
+"Statistics"
+msgstr ""
+
 #: ./modules/mod_mailinglist/templates/mailinglist_confirm.tpl:21 
 msgid ""
 "Subscribe"
@@ -490,12 +525,12 @@
 "unsubscribed, or the mailing list has been deleted."
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:21 
+#: ./modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:19 
 msgid ""
 "The mailing will be send after the publication start date of"
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:18 
+#: ./modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:16 
 msgid ""
 "The mailing will be send after this page has been published."
 msgstr ""
@@ -515,7 +550,7 @@
 "This mail was sent to you because someone visiting"
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/admin_mailinglist.tpl:20 
+#: ./modules/mod_mailinglist/templates/admin_mailinglist.tpl:20 ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:13 
 msgid ""
 "Title"
 msgstr ""
@@ -592,14 +627,6 @@
 "You can"
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/_admin_edit_sidebar.tpl:10 
-msgid ""
-"You can send this page as an e-mail to everyone in a mailing list. If the "
-"page has a future publication start date, is not yet published or is not "
-"visible for the world then the mail will be send after publication of the "
-"page."
-msgstr ""
-
 #: ./modules/mod_mailinglist/templates/mailinglist_confirm.tpl:31 
 msgid ""
 "You can try to re-subscribe to one of our mailing lists in the side column."
@@ -627,11 +654,21 @@
 "receive it, then please check your spam folder."
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/_dialog_mailinglist_delete_confirm.tpl:9 ./modules/mod_mailinglist/templates/admin_mailinglist_recipients.tpl:14 ./modules/mod_mailinglist/templates/_mailinglist_subscribe_form.tpl:62 
+#: ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:41 
+msgid ""
+"bounced"
+msgstr ""
+
+#: ./modules/mod_mailinglist/templates/_dialog_mailinglist_delete_confirm.tpl:9 ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:56 ./modules/mod_mailinglist/templates/admin_mailinglist_recipients.tpl:14 ./modules/mod_mailinglist/templates/_mailinglist_subscribe_form.tpl:62 
 msgid ""
 "cancel"
 msgstr ""
 
+#: ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:61 
+msgid ""
+"clear"
+msgstr ""
+
 #: ./modules/mod_mailinglist/templates/email_mailinglist_welcome.tpl:10 
 msgid ""
 "click here to unsubscribe."
@@ -647,21 +684,51 @@
 "e-Mail"
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/admin_mailinglist.tpl:39 ./modules/mod_mailinglist/templates/_mailinglist_subscribe_form.tpl:56 
+#: ./modules/mod_mailinglist/templates/admin_mailinglist.tpl:39 ./modules/mod_mailinglist/templates/admin_mailing_status.tpl:13 ./modules/mod_mailinglist/templates/_mailinglist_subscribe_form.tpl:56 
 msgid ""
 "edit"
 msgstr ""
 
+#: ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:42 
+msgid ""
+"error"
+msgstr ""
+
+#: ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:6 
+msgid ""
+"has been sent to the following lists:"
+msgstr ""
+
+#: ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:8 
+msgid ""
+"has never been sent yet."
+msgstr ""
+
 #: ./modules/mod_mailinglist/templates/mailinglist_unsubscribe.tpl:12 
 msgid ""
 "mailing list"
 msgstr ""
 
+#: ./modules/mod_mailinglist/templates/admin_mailing_status.tpl:9 
+msgid ""
+"mailinglist status page"
+msgstr ""
+
 #: ./modules/mod_mailinglist/templates/email_mailinglist_confirm.tpl:11 
 msgid ""
 "or copy and paste the address below in your browser."
 msgstr ""
 
+#: ./modules/mod_mailinglist/templates/admin_mailing_status.tpl:14 
+msgid ""
+"preview mailing"
+msgstr ""
+
+#: ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:36 
+msgid ""
+"processed"
+msgstr ""
+
 #: ./modules/mod_mailinglist/templates/email_page.tpl:7 
 msgid ""
 "read the full article online."
@@ -672,6 +739,21 @@
 "recipients"
 msgstr ""
 
+#: ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:32 ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:47 
+msgid ""
+"scheduled"
+msgstr ""
+
+#: ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:59 
+msgid ""
+"send mailing"
+msgstr ""
+
+#: ./modules/mod_mailinglist/templates/_admin_mailing_status_overview.tpl:59 
+msgid ""
+"send to "
+msgstr ""
+
 #: ./modules/mod_mailinglist/templates/_mailinglist_subscribe_form.tpl:58 
 msgid ""
 "subscribe"
@@ -692,7 +774,12 @@
 "thought you would be interested."
 msgstr ""
 
-#: ./modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:2 ./modules/mod_mailinglist/templates/_dialog_email_page.tpl:1 
+#: ./modules/mod_mailinglist/templates/_dialog_mailing_page.tpl:3 
+msgid ""
+"to"
+msgstr ""
+
+#: ./modules/mod_mailinglist/templates/_dialog_email_page.tpl:1 
 msgid ""
 "to:"
 msgstr ""
diff --git a/src/install/z_install_data.erl b/src/install/z_install_data.erl
--- a/src/install/z_install_data.erl
+++ b/src/install/z_install_data.erl
@@ -57,15 +57,13 @@
     ?DEBUG("Inserting modules"),
     Modules = [
         "mod_base",
-        "mod_emailer",
         "mod_menu",
         "mod_oauth",
         "mod_search",
         "mod_video_embed",
         "mod_atom_feed",
-		"mod_broadcast",
         "mod_translation",
-        "mod_log",
+        "mod_logging",
 
         "mod_seo",
         "mod_seo_google",
@@ -75,13 +73,10 @@
 		"mod_acl_adminonly",
 
         "mod_admin",
-        "mod_admin_address",
         "mod_admin_category",
         "mod_admin_config",
-        "mod_admin_event",
         "mod_admin_identity",
         "mod_admin_modules",
-        "mod_admin_person",
         "mod_admin_predicate",
 
         %% Enable comments
